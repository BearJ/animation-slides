<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>生动的动画</title>
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/moon.css" id="theme">
        <link rel="stylesheet" href="lib/css/zenburn.css"><!-- Theme used for syntax highlighting of code -->
        <link rel="stylesheet" href="css/shake.css">
        <link rel="stylesheet" href="css/index.css">

        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>

        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>
    <body>
        <div class="reveal">

            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">
                <section>
                    <h1>生动的动画</h1>
                    <p>
                        <small>2016-06-06</small>
                    </p>
                </section>
                <section>
                        <img src="images/avatar.jpg" width="175px"/>
                        <h2>BEARYAN</h2>
                        <p>WXG - 基础产品部 - 设计中心 - UI开发一组</p>
                    </section>

                <section>
                    <h2>什么是动画？</h2>
                </section>
                <section>
                    <p>
                        <img class="fragment" src="images/what/cat&mouse.png" />
                        <img class="fragment" src="images/what/cat&mouse.gif"/>
                    </p>
                </section>
                <section>
                    <h2>“会动的画面”</h2>
                </section>
                <!--<section>
                    <p>"Animation" 一词源自于拉丁文字根anima，意思为“灵魂”，动词animate是“赋予生命”的意思，引申为使某物活起来的意思。所以动画可以定义为使用绘画的手法，创造生命运动的艺术。</p>
                </section>-->
                <section>
                    <h2>如何让静止的画面动起来？</h2>
                </section>
                <section>
                    <h3>定义每一帧（逐帧动画）</h3>
                    <span class="fragment">
                        <img src="images/what/frames.gif"/>
                    </span>
                </section>
                <section>
                    <h3>定义关键帧（关键帧动画）</h3>
                    <span class="fragment">
                        <img src="images/what/flash.png" />
                    </span>
                    <span class="fragment">
                        <a href="http://weibo.com/2123664205/BsU5VfGC6?type=comment#_rnd1463816701470" target="_blank">
                            <img src="images/what/pig.gif"/>
                        </a>
                    </span>
                </section>

                <section>
                    <h2>如何让动画更生动？</h2>
                </section>
                <section>
                    <h3>
                        "Animation" 一词源自于拉丁文字根anima，意思为“灵魂”，动词animate是“赋予生命”的意思。
                        所以动画也可以理解为<span class="fragment highlight-green">使用绘画的手法，创造生命运动</span>的艺术。
                    </h3>
                </section>
                <section>
                    <h3>Frank Thomas & Ollie Johnston</h3>
                    <img src="images/Disney_man.jpg" />
                    <p>迪士尼的元老们帮我们总结了动画的十二条动画法则</p>
                </section>


                <section>
                    <h2>符合现实</h2>
                </section>
                <!--慢进慢出-->
                <section>
                    <h3>SLOW IN & SLOW OUT<br>慢进 & 慢出</h3>
                    <p><img src="images/principles/pic6.gif" /></p>
                    <p class="fragment">任何物体自静止开始动作，是<span class="fragment highlight-green">渐快的加速运动</span>，从运动状态到静止状态，则是呈<span class="fragment highlight-green">渐慢的减速运动</span> 。</p>
                </section>
                <section>
                    <img src="images/principles/slow.jpg" />
                </section>

                <!--弧形-->
                <section>
                    <h3>ARCS<br>弧形运动轨迹</h3>
                    <p><img src="images/principles/pic7.gif" /></p>
                    <p class="fragment">凡任何会动的生物，其组成的任何部分之<span class="fragment highlight-green">运动轨迹皆为平滑的弧形曲线</span>。</p>
                </section>
                <section>
                    <img src="images/principles/arc-2.jpg" />
                </section>
                <section>
                    <img src="images/principles/arc-3.jpg" />
                </section>

                <!--惯性与重叠-->
                <section>
                    <h3>FOLLOW THROUGH & OVERLAPPING<br>动作惯性 & 动作重叠</h3>
                    <p><img src="images/principles/pic5.gif" /></p>
                    <p class="fragment">没有任何一种物体会突然停止，物体的运动是一个部分接着一个部分的</p>
                </section>
                <section>
                    <img src="images/principles/follow-2.jpg" />
                </section>

                <section>
                    <img src="images/principles/arc-1.gif" />
                </section>


                <section>
                    <h2>强调</h2>
                </section>
                <!--夸张-->
                <section>
                    <h3>EXAGGERATION<br>夸张</h3>
                    <p><img src="images/principles/pic10.gif" /></p>
                    <p class="fragment">利用挤压和伸展的效果、夸大的肢体动作、或是以加快或放慢动作来<span class="fragment highlight-green">加乘角色的情绪及反应</span>。</p>
                </section>

                <!--挤压拉伸-->
                <section>
                    <h3>SQUASH & STRETCH<br>挤压 & 拉伸</h3>
                    <p><img src="images/principles/pic1.gif" /></p>
                    <p class="fragment">以特体形状的变形，强调瞬间的物理现角。</p>
                </section>
                <section>
                    <img src="images/principles/stretch-1.gif" />
                </section>
                <!--
                <section>
                    <img src="images/principles/stretch-2.gif" />
                </section>
                <section>
                    <img src="images/principles/stretch-3.gif" width="400px" />
                </section>
                -->

                <!--预备动作-->
                <section>
                    <h3>ANTICIPATION<br>预备动作</h3>
                    <p><img src="images/principles/pic3.gif" /></p>
                    <p class="fragment">加入一<span class="fragment highlight-green">反向的动作</span>以加强正向动作的张力,<br>借以表示下一个将要发生的动作。</p>
                </section>
                <!--
                <section>
                    <img src="images/principles/anticipation-1.jpg" />
                </section>
                -->
                <section>
                    <img src="images/principles/anticipation-2.jpg" />
                </section>
                <section>
                    <img src="images/principles/mouse.gif" alt=""/>
                </section>

                <!--吸引力-->
                <section>
                    <h3>APPEAL<br>吸引力</h3>
                    <p><img src="images/principles/pic12.gif" /></p>
                    <p class="fragment">当设计角色时，能够以造型或独特的姿态让观众直觉角色的属性，藉以<span class="fragment highlight-green">提高观众对于角色的印象</span>，例如高矮胖瘦可分别代表不同个性的角色。</p>
                </section>

                <section>
                    <img src="images/principles/inner.gif" width="100%" />
                </section>


                <section>
                    <h2>外界因素</h2>
                </section>
                <!--附属动作-->
                <section>
                    <h3>SECONDARY ACTION<br>附属动作</h3>
                    <p><img src="images/principles/pic8.gif" /></p>
                    <p class="fragment">当角色在进行主要动作时，附属于角色的一些配件，或是触须、尾巴等部分，会<span class="fragment highlight-green">以附属动作来点缀主要动作的效果</span>。</p>
                </section>
                <section>
                    <img src="images/principles/secondary-1.gif" />
                </section>

                <!--呈像方式-->
                <section>
                    <h3>STAGING<br>表演及呈像方式</h3>
                    <p><img src="images/principles/pic2.gif" /></p>
                    <p class="fragment">角色的仪态、及表演方式，配合适当的摄影机运动，<br>使能够有效的<span class="fragment highlight-green">表达角色的特性及故事中的讯息</span>。</p>
                </section>

                <!--逐帧/关键帧-->
                <section>
                    <h3>STRAIGHT AHEAD & POSE TO POSE<br>逐帧画法 & 关键帧画法</h3>
                    <p><img src="images/principles/pic4.gif" /></p>
                    <p class="fragment">前者根据连续的动作依序制作每一格画面；后者是先定义关键的主要动作，而后再制作关键动作间的画格。</p>
                </section>
                <section>
                    <img src="images/principles/pose-2.jpg" />
                </section>
                <section>
                    <img src="images/principles/pose-3.jpg" />
                </section>

                <!--时间控制-->
                <section>
                    <h3>TIMING<br>时间控制</h3>
                    <p><img src="images/principles/pic9.gif" /></p>
                    <p class="fragment">一段动作发生所需的时间，这是掌控动画节奏的最基本观念。</p>
                </section>

                <!--手绘技巧-->
                <section>
                    <h3>SOLID DRAWINGS<br>纯熟的手绘技巧</h3>
                    <p><img src="images/principles/pic11.gif" /></p>
                    <p class="fragment">这是在传统手绘动画领域里，对于动画师的基本需要，然而在电脑动画领域，手绘已不再是动画师的工作内容。</p>
                </section>

                <section>
                    <h3>符合现实</h3>
                    <p><small><span class="fragment highlight-green">慢进慢出</span>、<span class="fragment highlight-green">弧形运动</span>、<span class="fragment highlight-green">惯性与重叠</span></small></p>
                    <br>
                    <h3>强调</h3>
                    <p><small>夸张、<span class="fragment highlight-green">挤压拉伸</span>、<span class="fragment highlight-green">预备动作</span>、吸引力</small></p>
                    <br>
                    <h3>外界因素</h3>
                    <p><small>附属动作、呈像方式、<span class="fragment highlight-green">逐帧\关键帧画法</span>、<span class="fragment highlight-green">时间控制</span>、手绘技巧</small></p>
                </section>

                <section>
                    <h2>与前端的结合</h2>
                </section>
                <section>
                    <h3>前端动画技术</h3>
                    <ul>
                        <li>CSS Transition</li>
                        <li>CSS Animation</li>
                        <li>SVG Animation</li>
                        <li>Canvas</li>
                        <li>JS Animation</li>
                    </ul>
                </section>

                <section>
                    <h3>CSS Transition</h3>
                </section>
                <section class="transition-demo">
                    <div class="demo">
                        <img src="images/avatar.jpg" />
                    </div>
                    <div class="fragment">
                <pre><code class="hljs">
.demo img{
left: 0;
transition:
    left .5s <span class="fragment highlight-green">ease-in-out</span>,
    transform .5s <span class="fragment highlight-green">cubic-bezier(0.68, -0.55, 0.265, 1.55)</span> 1s
;
}
.demo:hover img{
img{
    left: 700px;
    transform: scale(1.5)
}
}
                </code></pre>
                    </div>
                </section>
                <section>
                    <h3>timing-function</h3>
                    <p>时间函数</p>
                </section>
                <section>
                    <iframe src="http://cubic-bezier.com/#.68,-0.55,.26,1.55" frameborder="0" width="100%" height="600px"></iframe>
                </section>
                <section>
                    <iframe src="http://easings.net/zh-cn#" frameborder="0" width="100%" height="600px"></iframe>
                </section>
                <section>
                    <h4>Transition并不适用于做动画</h4>
                    <ul>
                        <li class="fragment">需要事件触发</li>
                        <li class="fragment">一次性，不能自动重复</li>
                        <li class="fragment">只能定义开始状态和结束状态</li>
                        <li class="fragment">一条规则，只能定义一个属性的变化</li>
                    </ul>
                </section>


                <section>
                    <h3>CSS Animation</h3>
                </section>
                <section class="animation-demo1">
                    <p>
                        <img class="shake-horizontal shake-constant" src="images/avatar.jpg"/>
                        <img class="shake-vertical shake-constant" src="images/avatar.jpg"/>
                        <img class="shake-rotate shake-constant" src="images/avatar.jpg"/>
                    </p>
                    <p>
                        <img class="shake shake-constant" src="images/avatar.jpg"/>
                        <img class="shake-slow shake-constant" src="images/avatar.jpg"/>
                        <img class="shake-chunk shake-constant" src="images/avatar.jpg"/>
                    </p>
                    <p>
                        <img class="shake-opacity shake-constant" src="images/avatar.jpg"/>
                        <img class="shake-hard shake-constant" src="images/avatar.jpg"/>
                        <img class="shake-crazy shake-constant" src="images/avatar.jpg"/>
                    </p>
                </section>
                <section>
                    <img class="bear-crazy" src="images/avatar.jpg" width="300px" height="300px" />
                    <div>
                        <pre><code class="hljs">
.bear-crazy{
animation: bear-crazy 100ms <span class="fragment highlight-green">ease-in-out</span>; // name duration timing-function
animation-iteration-count: infinite; // 播放次数
animation-direction: alternate; // 下个周期播放方向，normal
}
                        </code></pre>
                    </div>
                </section>
                <section>
                    <h3>keyframes</h3>
                    <div>
                        <pre><code class="hljs">
@keyframes bear-crazy {
10% {
    transform: translate(-10px, -19px) rotate(6deg);
    opacity: 0.47
}
20% {
    transform: translate(-11px, 10px) rotate(5deg);
    opacity: 0.82
}
/* ... */
0%, 100% { /* 0%和100%一致是为了循环 */
    transform: translate(0, 0) rotate(0);
}
}
                        </code></pre>
                    </div>
                </section>
                <section class="animation-demo2">
                    <p>timing-function是作用于每两关键帧之间</p>
                    <br>
                    <div class="tl">
                        <img src="images/avatar.jpg" />
                    </div>
                    <div>
                        <pre><code class="hljs">
img{
animation: animation-demo2 2s cubic-bezier(0.86, 0, 0.07, 1) infinite alternate;
}
@keyframes animation-demo2{
0%{ transform: translateX(0px); }
50%{ transform: translateX(430px); }
100%{ transform: translateX(850px); }
}
                        </code></pre>
                    </div>
                </section>


                <section>
                    <h3>SVG Animation</h3>
                </section>
                <section>
                    <svg xmlns="http://www.w3.org/2000/svg" width="630" height="550">
                        <path
                            d="M318.0094050899985,118.51814967481543 C417.9960799512334,-158.497406676128 809.7471503091801,118.51814967481543 318.0094050899985,474.6810078403142 C-173.72834012918304,118.51814967481543 218.02273022876602,-158.497406676128 318.0094050899985,118.51814967481543 z"
                            stroke="#FFF"
                            stroke-width="2"
                            fill="pink"
                        />
                        <image xlink:href="images/avatar.png" x="-50" y="-50" height="100" width="100">
                            <animateTransform
                                attributeName="transform"
                                dur="3s"
                                type="rotate"
                                from="0" to="360"
                                repeatCount="indefinite"
                                calcMode="spline" keyTimes="0;1" keySplines="0.86 0 0.07 1"
                            />
                            <animateMotion
                                path="M318.0094050899985,118.51814967481543 C417.9960799512334,-158.497406676128 809.7471503091801,118.51814967481543 318.0094050899985,474.6810078403142 C-173.72834012918304,118.51814967481543 218.02273022876602,-158.497406676128 318.0094050899985,118.51814967481543 z"
                                dur="3s"
                                repeatCount="indefinite"
                                calcMode="spline" keyTimes="0;1" keySplines="0.86 0 0.07 1"
                            />
                        </image>
                    </svg>
                </section>
                <section>
                    <pre><code class="hljs">&lt;path d="M318.0094050899985......" /&gt;
&lt;image&gt;
&lt;animateTransform
    attributeName="transform" type="rotate"
    from="0" to="360"
    dur="3s" repeatCount="indefinite"
    <span class="fragment highlight-green">calcMode="spline" keyTimes="0;1" keySplines="0.86 0 0.07 1"</span> // timing-function
/&gt;
&lt;<span class="fragment highlight-green">animateMotion</span>
    path="M318.0094050899985......"
    dur="3s" repeatCount="indefinite"
    calcMode="spline" keyTimes="0;1" keySplines="0.86 0 0.07 1"
/&gt;
&lt;/image&gt;</code></pre>
                </section>
                <section>
                    <a href="http://www.zhangxinxu.com/wordpress/2014/08/so-powerful-svg-smil-animation/" target="_blank">
                        《超级强大的SVG SMIL animation动画详解》
                    </a>
                    <p class="tr">——张鑫旭</p>
                </section>

                <section>
                    <h3>SVG 画线动画</h3>
                </section>
                <section>
                    <iframe data-src="http://web.socialab.com.cn/static/coke128/index.html" frameborder="0" width="375px" height="667px"></iframe>
                </section>
                <section class="dasharray-demo1">
                    <h3>stroke-dasharray</h3>
                    <p>用stroke-dasharray控制着path的实与虚。</p>
                    <div class="flex-box">
                        <div class="flex">
                            <svg width="200" height="200" viewPort="0 0 200 300" version="1.1" xmlns="http://www.w3.org/2000/svg">
                                <line stroke-dasharray="5, 5"              x1="10" y1="10" x2="190" y2="10" />
                                <line stroke-dasharray="5, 10"             x1="10" y1="30" x2="190" y2="30" />
                                <line stroke-dasharray="10, 5"             x1="10" y1="50" x2="190" y2="50" />
                                <line stroke-dasharray="5, 1"              x1="10" y1="70" x2="190" y2="70" />
                                <line stroke-dasharray="1, 5"              x1="10" y1="90" x2="190" y2="90" />
                                <line stroke-dasharray="0.9"               x1="10" y1="110" x2="190" y2="110" />
                                <line stroke-dasharray="15, 10, 5"         x1="10" y1="130" x2="190" y2="130" />
                                <line stroke-dasharray="15, 10, 5, 10"     x1="10" y1="150" x2="190" y2="150" />
                                <line stroke-dasharray="15, 10, 5, 10, 15" x1="10" y1="170" x2="190" y2="170" />
                                <line stroke-dasharray="5, 5, 1, 5"        x1="10" y1="190" x2="190" y2="190" />
                                <style>
                                line{
                                    stroke: #FFFFFF;
                                    stroke-width: 2;
                                }
                                </style>
                            </svg>
                        </div>
                        <div class="flex">
                            <pre><code class="hljs">&lt;line stroke-dasharray="5, 5"&gt;&lt;/line&gt;
&lt;line stroke-dasharray="5, 10"&gt;&lt;/line&gt;
&lt;line stroke-dasharray="10, 5"&gt;&lt;/line&gt;
&lt;line stroke-dasharray="5, 1"&gt;&lt;/line&gt;
&lt;line stroke-dasharray="1, 5"&gt;&lt;/line&gt;
&lt;line stroke-dasharray="0.9"&gt;&lt;/line&gt;
&lt;line stroke-dasharray="15, 10, 5"&gt;&lt;/line&gt;
&lt;line stroke-dasharray="15, 10, 5, 10"&gt;&lt;/line&gt;
&lt;line stroke-dasharray="15, 10, 5, 10, 15"&gt;&lt;/line&gt;
&lt;line stroke-dasharray="5, 5, 1, 5"&gt;&lt;/line&gt;</code></pre>
                        </div>
                    </div>
                </section>
                <section class="dasharray-demo2">
                    <h3>stroke-dashoffset</h3>
                    <p>stroke-dashoffset定义着dash开始的位置</p>
                    <div class="flex-box">
                        <div class="flex">
                            <svg width="200" height="200" viewPort="0 0 200 300" version="1.1" xmlns="http://www.w3.org/2000/svg">
                                <line stroke-dashoffset="0"             x1="10" y1="10" x2="190" y2="10" />
                                <line stroke-dashoffset="1"             x1="10" y1="30" x2="190" y2="30" />
                                <line stroke-dashoffset="2"             x1="10" y1="50" x2="190" y2="50" />
                                <line stroke-dashoffset="3"              x1="10" y1="70" x2="190" y2="70" />
                                <line stroke-dashoffset="4"              x1="10" y1="90" x2="190" y2="90" />
                                <line stroke-dashoffset="5"               x1="10" y1="110" x2="190" y2="110" />
                                <line stroke-dashoffset="6"         x1="10" y1="130" x2="190" y2="130" />
                                <line stroke-dashoffset="7"     x1="10" y1="150" x2="190" y2="150" />
                                <line stroke-dashoffset="8" x1="10" y1="170" x2="190" y2="170" />
                                <line stroke-dashoffset="9"        x1="10" y1="190" x2="190" y2="190" />
                            </svg>
                        </div>
                        <div class="flex">
                            <pre><code class="hljs">&lt;line stroke-dashoffset="0"&gt;&lt;/line&gt;
&lt;line stroke-dashoffset="1"&gt;&lt;/line&gt;
&lt;line stroke-dashoffset="2"&gt;&lt;/line&gt;
&lt;line stroke-dashoffset="3"&gt;&lt;/line&gt;
&lt;line stroke-dashoffset="4"&gt;&lt;/line&gt;
&lt;line stroke-dashoffset="5"&gt;&lt;/line&gt;
&lt;line stroke-dashoffset="6"&gt;&lt;/line&gt;
&lt;line stroke-dashoffset="7"&gt;&lt;/line&gt;
&lt;line stroke-dashoffset="8"&gt;&lt;/line&gt;
&lt;line stroke-dashoffset="9"&gt;&lt;/line&gt;</code></pre>
                        </div>
                    </div>
                </section>
                <section class="dasharray-demo3">
                    <p>transition + stroke-dashoffset</p>
                    <p>100 -> 0</p>
                    <div class="wrap">
                        <div class="window"></div>
                        <svg width="700px" height="200px">
                            <line class="line1-helper" x1="200" y1="100" x2="700" y2="100"></line>
                        </svg>
                    </div>

                    <p>100 -> 200</p>
                    <div class="wrap">
                        <div class="window"></div>
                        <svg width="700px" height="200px">
                            <line class="line2-helper" x1="0" y1="100" x2="500" y2="100"></line>
                        </svg>
                    </div>
                </section>
                <section>
                    <h3>为啥不用负数</h3>
                    <p>在IOS上的表现和Android/PC不一样</p>
                    <p>
                        <a href="http://bearj.github.io/sharing/html/ios_dashoffset_bug.html" target="_blank">
                            DEMO
                        </a>
                    </p>
                </section>


                <section>
                    <h3>Canvas</h3>
                </section>
                <section>
                    <h4>一帧帧地显示，从而实现动画</h4>
                    <p>window.requestAnimationFrame()</p>
                </section>
                <section>
                    <h3>API</h3>
                    <ul>
                        <li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API" target="_blank">2D Canvas API</a></li>
                        <li><a href="http://labs.gooengine.com/pearl-boy/" target="_blank">3D WebGL API</a></li>
                    </ul>
                </section>
                <section>
                    <a href="http://www.apple.com/iphone/why-theres-iphone/" target="_blank">
                        <img src="images/iphone.gif" />
                    </a>
                </section>
                <section>
                    <h3>Canvas画线</h3>
                    <ul>
                        <li>
                            <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Path2D" target="_blank">
                                Path2D类
                            </a>
                        </li>
                        <li>
                            <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/setLineDash" target="_blank">
                                Context2D.setLineDash()
                            </a>
                        </li>
                        <li>
                            <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/lineDashOffset" target="_blank">
                                Context2D.lineDashOffset
                            </a>
                        </li>
                        <li>
                            <a href="https://github.com/danro/easing-js" target="_blank">
                                easing.js
                            </a>
                        </li>
                    </ul>
                </section>
                <section>
                    <canvas class="" id="canvas" width="330" height="320"></canvas>
                    <br><br>
                    <pre><code class="hljs"><span class="fragment highlight-green">var easingFunc = easing.easeInOutCubic;</span> // timing-function
var path2d = new Path2D("M165.50942211 ...");
ctx.setLineDash([pathLength]);
ctx.lineDashOffset = pathLength;

function draw(){
ctx.clearRect(0, 0, canvas.width, canvas.height);
ctx.lineDashOffset = parseInt(pathLength * (1 - <span class="fragment highlight-green">easingFunc(timePos)</span>));
ctx.stroke(path2d);
requestAnimationFrame(draw);
}
draw();</code></pre>
                    <script type="text/javascript" src="lib/js/easing.js"></script>
                    <script type="text/javascript">
                        !function(){
                            var canvas = document.getElementById("canvas"), ctx = canvas.getContext("2d");
                            var pathLength = 1058, path2d, startTime = + new Date(), animationDur = 1000; // 1000ms
                            var easingFunc = easing.easeInOutCubic, timeout, timePos;

                            ctx.strokeStyle = "pink";
                            ctx.lineWidth = 5;

                            ctx.setLineDash([pathLength]);
                            ctx.lineDashOffset = pathLength;
                            path2d = new Path2D("M165.50942211465485,80.14942484251537 C231.06944481619905,-101.4862512159129 487.93578208050087,80.14942484251537 165.50942211465485,313.6810064728157 C-156.91693785119105,80.14942484251537 99.94939941311071,-101.4862446590366 165.50942211465485,80.14942484251537 z");

                            function draw(){
                                if(ctx.lineDashOffset <= 0){
                                    clearTimeout(timeout);
                                    timeout = setTimeout(function(){
                                        ctx.lineDashOffset = pathLength;
                                        startTime = + new Date();
                                        requestAnimationFrame(draw);
                                    }, 2000);
                                    return;
                                }

                                ctx.clearRect(0, 0, canvas.width, canvas.height);
                                timePos = + new Date() - startTime;
                                timePos = (timePos > animationDur ? animationDur : timePos) / animationDur;
                                ctx.lineDashOffset =
                                    parseInt(pathLength * (1 - easingFunc(timePos)));
                                ctx.stroke(path2d);
                                requestAnimationFrame(draw);
                            }
                            draw();
                        }();
                    </script>
                </section>
                <!--
                <section>
                    <h3>Canvas 图文粒子</h3>
                    <p>
                        <a href="http://www.jq22.com/demo/html5-canvas-side-text-141115160302/" target="_blank">
                            canvas-side-text
                        </a>
                    </p>
                </section>
                <section>
                    <div>
                        <ul>
                            <li class="fragment">先把文字/图片draw出来</li>
                            <li class="fragment">pixels = ctx.getImageData(x, y).data;</li>
                            <li class="fragment">这个pixels就是canvas里的所有像素点</li>
                            <li class="fragment">数组每4个值，代表着1个像素点的RGBA</li>
                        </ul>
                        <br><br>
                    <pre class="fragment"><code class="hljs">
pixels = [0, 0, 0, 1,   255, 0, 0, 1,   255, 255, 255, 0]
                    </code></pre>
                    </div>
                </section>
                -->

                <section>
                    <h3>JS Animation</h3>
                </section>
                <section>
                    <h3>实现更复杂的timing-function</h3>
                </section>
                <section>
                    <img src="images/mojs/mo-bounce.gif" />
                </section>
                <section>
                    <img src="images/mojs/mo-easing.gif" />
                </section>
                <section>
                    <img src="images/mojs/mo-bounce-src.png" />
                </section>
                <section>
                    <img src="images/mojs/mo-easing-src.png" />
                </section>
                <section>
                    <iframe data-src="http://codepen.io/sol0mka/full/OyzBXR" frameborder="0" width="900px" height="500px"></iframe>
                    <a href="http://mojs.io/tutorials/easing/path-easing/" target="_blank">
                        mo.js
                    </a>
                </section>

                <section>
                    <h2>欣赏</h2>
                </section>
                <section>
                    <a target="_blank" href="http://61.142.65.166/vipstyle/mobile/client/vipact/freshmanguide/html/index.html">
                        <img src="images/demo/QQhuiyuan.png" width="350px"/>
                    </a>
                </section>
                <section>
                    <a target="_blank" href="http://drose6.adidasevent.com/">
                        <img src="images/demo/demo-staging.png" width="350px" />
                    </a>
                </section>

                <section>
                    <h2>链接</h2>
                    <ul>
                        <li><a href="http://www.ruanyifeng.com/blog/2014/02/css_transition_and_animation.html" target="_blank">
                            《CSS动画简介》, 阮一峰
                        </a></li>
                        <li><a href="http://lea.verou.me/css-4d/#intro" target="_blank">
                            《CSS in the 4th dimension》, Lea Verou
                        </a></li>
                        <li><a href="http://markgeyer.com/pres/the-art-of-ui-animations/#/" target="_blank">
                            《The Art of UI Animations》, Mark Geyer
                        </a></li>
                        <li><a href="https://mp.weixin.qq.com/s?__biz=MjM5ODU1MzI0Mw==&mid=204947224&idx=1&sn=b1012dda3b38c8bfc7bd047568b8afe4" target="_blank">
                            《动起来的12条动画法则》, 中国独立动画电影论坛
                        </a></li>
                        <li><a href="http://mp.weixin.qq.com/s?__biz=MzA3MDEwODUzMQ==&mid=200424534&idx=3&sn=c4d63cad3eded9378bbd0fdf81190fa1" target="_blank">
                            《关于动画入门的12条法则》, WitUHunt
                        </a></li>
                        <li><a href="http://matrix.h5jun.com/slide/show?id=117#/" target="_blank">
                            《前端动画原理与实现》, 月影
                        </a></li>
                        <li><a href="http://taobaofed.org/blog/2016/02/22/canvas-performance/" target="_blank">
                            《Canvas 最佳实践（性能篇）》, 叶斋
                        </a></li>
                        <li><a href="http://jdc.jd.com/h5/case/maga.html" target="_blank">
                            拇指期刊
                        </a></li>
                        <li><a href="http://cubic-bezier.com/" target="_blank">
                            cubic-bezier.com
                        </a></li>
                        <li><a href="http://easings.net/zh-cn#" target="_blank">
                            easing函数速查表
                        </a></li>
                        <li><a href="https://github.com/danro/easing-js" target="_blank">
                            easing.js
                        </a></li>
                    </ul>
                </section>

                <section>
                    <h2>较受欢迎的库</h2>
                    <dl>
                        <dt>SVG/DOM</dt>
                        <dd><a target="_blank" href="http://julian.com/research/velocity/">Velocity.js</a></dd>
                        <dd><a target="_blank" href="http://svgjs.com/">SVG.JS</a></dd>
                        <dd><a target="_blank" href="http://snapsvg.io/">Snap.Svg</a></dd>

                        <dt>Canvas</dt>
                        <dd><a target="_blank" href="http://www.createjs.com/easeljs">Create.js</a></dd>
                        <dd><a target="_blank" href="http://paperjs.org/">Paper.js</a></dd>
                        <dd><a target="_blank" href="http://threejs.org/">three.js</a></dd>
                        <dd><a target="_blank" href="http://phaser.io/">Phaser.js</a></dd>

                        <dt>Easing</dt>
                        <dd><a target="_blank" href="http://mojs.io/">mo.js</a></dd>
                    </dl>
                </section>

                <section>
                    <h2>Q & A</h2>
                </section>

                <section>
                    <h2>Thanks!</h2>
                </section>
            </div>

        </div>

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.js"></script>

        <script>

            // More info https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,

                transition: 'slide', // none/fade/slide/convex/concave/zoom

                // More info https://github.com/hakimel/reveal.js#dependencies
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/zoom-js/zoom.js', async: true },
                    { src: 'plugin/notes/notes.js', async: true }
                ]
            });

        </script>

    </body>
</html>